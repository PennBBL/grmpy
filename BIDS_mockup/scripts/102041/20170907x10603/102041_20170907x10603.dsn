#!/usr/bin/env bash

###################################################################
#  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  ☭  #
###################################################################


###################################################################
# This design file stores the values of all variables required to
# execute a complete task-free functional connectivity pipeline.
# You may execute the analysis specified in this design file by
# calling (in any bash terminal):
#
# xcpEngine -d <design> -c <cohort> -o <output> <options>
#
# Variables fall into five general categories:
# * ANALYSIS VARIABLES are used at all stages of this analysis.
# * PIPELINE specifies the modules that comprise the analysis.
# * GLOBAL VARIABLES are used at all stages of all analyses.
# * MODULE VARIABLES are used during one stage of the analysis.
#                  These are typically array vaeriables with array
#                  indices equal to the index of the analysis
#                  stage during which they are used.
# * OUTPUT VARIABLES may be used at all stages of the analysis.
#                  These are sometimes array variables with array
#                  indices equal to the value of the primary
#                  subject identifier. They will appear only in
#                  localised design files.
###################################################################


###################################################################
# ANALYSIS VARIABLES
###################################################################

analysis=struc-ACCELERATOR
design=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/anat-antsct.dsn
sequence=anatomical
standard=PNC%9375x9375x1

###################################################################
# PIPELINE
###################################################################

pipeline=struc,gmd,jlf,roiquant,qcanat

###################################################################
# 1 STRUC
###################################################################

struc_denoise_anat[1]=1
struc_prior_weight[1]=0.25
struc_posterior_formulation[1]='Socrates[1]'
struc_keepBEImages[1]=0
struc_floating_point[1]=0
struc_random_seed[1]=0
struc_bspline[1]=0
struc_fit[1]=0.3
struc_quick[1]=0
struc_seg_priors[1]=1
struc_rerun[1]=0
struc_cleanup[1]=1
struc_process[1]=ACT

###################################################################
# 2 GMD
###################################################################

gmd_rerun[2]=0
gmd_cleanup[2]=1

###################################################################
# 3 JLF
###################################################################

jlf_keep_warps[3]=0
jlf_extract[3]=1
jlf_quick[3]=0
jlf_cohort[3]=SexBalanced20
jlf_parallel[3]=none
jlf_rerun[3]=0
jlf_cleanup[3]=1

###################################################################
# 4 ROIQUANT
###################################################################

roiquant_atlas[4]=all
roiquant_vol[4]=1
roiquant_rerun[4]=0
roiquant_cleanup[4]=1

###################################################################
# 5 QCSTRUC
###################################################################

qcanat_gm[5]=Y
qcanat_gm_val[5]=2,4
qcanat_wm[5]=Y
qcanat_wm_val[5]=3
qcanat_csf[5]=Y
qcanat_csf_val[5]=1
qcanat_cort[5]=Y
qcanat_cort_val[5]=4
qcanat_rerun[5]=0
qcanat_cleanup[5]=1

###################################################################
# OUTPUT VARIABLES
###################################################################

# ··· outputs from XCP ENGINE LOCALISER[0] ··· #
space[9001]=102041_20170907x10603_anatomical
structural[9001]=102041_20170907x10603_anatomical
spaces[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603_spaces.json
aux_imgs[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603_derivatives.json
atlas[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603_atlas/102041_20170907x10603_atlas.json
audit[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603_logs/102041_20170907x10603_audit.csv
quality[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603_quality.csv
out_super=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts
sub=9001
design[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603/102041_20170907x10603.dsn
prefix[9001]=102041_20170907x10603
out[9001]=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/102041/20170907x10603
ids[9001]=102041,20170907x10603
img[9001]=/home/aadebimpe/data/jux/BBL/studies/grmpy/rawData/102041/20170907x10603/MPRAGE_TI1100_ipat2/nifti/010603_MPRAGE_TI1100_ipat2.nii.gz
subject[0]=102041
subject[1]=20170907x10603
out_group=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/group
atlas_orig=/home/aadebimpe/data/jux/BBL/projects/grmpyProcessing/grmpyProcessing2017Scripts/BIDS_mockup/scripts/group/atlas.json
template=/xcpEngine-master/space/PNC/PNC-9375x9375x1.nii.gz
standard=PNC%9375x9375x1

# ··· outputs from STRUCTURAL PROCESSING MODULE[1] ··· #
